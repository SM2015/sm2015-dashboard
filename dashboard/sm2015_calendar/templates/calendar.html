{% extends 'base_logado.html' %}
{% load staticfiles %}

{% block js_bottom %}
  {{ block.super }}
  <script src="{% static "assets/plugins/pace/pace.min.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/plugins/jquery-slider/jquery.sidr.min.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/plugins/jquery-numberAnimate/jquery.animateNumbers.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/plugins/jquery-ui-touch/jquery.ui.touch-punch.min.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/plugins/fullcalendar/fullcalendar.min.js" %}"></script>
  <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
  <script>
    $().ready(function(){
      var events = {{events|safe}}, $calendar =  $("#calendar");
      $calendar.fullCalendar({
        header: {
          left: 'prev,next today',
          center: 'title',
          right: 'month, agendaWeek, agendaDay'
        },
        events: events,
        eventRender: function(event, element) {
          element.attr("title", event.description);
        },
        /*eventMouseout: function( event, jsEvent, view ) {
          $(this).tooltip( "disable" );
        },
        eventMouseover: function( event, jsEvent, view ) {
          $(this).tooltip( "enable" );
        },
        eventAfterAllRender: function( view ){
          $(document).tooltip();
        }*/
      });

      $('.fc-header').hide();
      
      //Get the current date and display on the tile
      var currentDate = $('#calendar').fullCalendar('getDate');
      
      $('#calender-current-day').html($.fullCalendar.formatDate(currentDate, "dddd"));
      $('#calender-current-date').html($.fullCalendar.formatDate(currentDate, "MMM yyyy"));
      
    
      $('#calender-prev').click(function(){
        $('#calendar').fullCalendar( 'prev' );
        currentDate = $('#calendar').fullCalendar('getDate');		
        $('#calender-current-day').html($.fullCalendar.formatDate(currentDate, "dddd"));
        $('#calender-current-date').html($.fullCalendar.formatDate(currentDate, "MMM yyyy"));
      });
      $('#calender-next').click(function(){
        $('#calendar').fullCalendar( 'next' );
        currentDate = $('#calendar').fullCalendar('getDate');		
        $('#calender-current-day').html($.fullCalendar.formatDate(currentDate, "dddd"));
        $('#calender-current-date').html($.fullCalendar.formatDate(currentDate, "MMM yyyy"));
      });
      
      $('#change-view-month').click(function(){
        $('#calendar').fullCalendar('changeView', 'month');
      });
      $('#change-view-week').click(function(){
         $('#calendar').fullCalendar( 'changeView', 'agendaWeek');
      });
      $('#change-view-day').click(function(){
        $('#calendar').fullCalendar( 'changeView','agendaDay');
      });
    });
  </script>
{% endblock js_bottom %}

{% block css %}
  {{ block.super }}
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">
{% endblock css %}

{% block content %}
<div class="content">
      <div class="row-fluid" style="max-height:600px;">
        <div class="span12 tiles red added-margin">
          <div class="span3 tiles red added-margin">
            <div class="tiles-body">
              <div class="calender-options-wrapper">
                <h3 class="text-white semi-bold" id="calender-current-day"></h3>
                <h2 class="text-white" id="calender-current-date"></h2>
              </div>
            </div>
          </div>
          <div class="span9 tiles white margin-reset added-margin">
            <div class="tiles-body">
              <div class="full-calender-header">
                <div class="pull-left">
                  <div class="btn-group ">
                    <button class="btn btn-success" id="calender-prev"><i class="icon-angle-left"></i></button>
                    <button class="btn btn-success" id="calender-next"><i class="icon-angle-right"></i></button>
                  </div>
                </div>
                <div class="pull-right">
                  <div data-toggle="buttons-radio" class="btn-group">
                    <button class="btn btn-primary active" type="button" id="change-view-month">month</button>
                    <button class="btn btn-primary " type="button" id="change-view-week">week</button>
                    <button class="btn btn-primary" type="button" id="change-view-day">day</button>
                  </div>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id='calendar'></div>
            </div>
          </div>
        </div>
      </div>
</div>
{% endblock content %}
